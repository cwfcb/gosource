# ç¬¬1ç«  archive ä¸ compress åŒ…

## 1.1 **archive** ç³»åˆ—åŒ…

### ä½œç”¨
`archive` ç›¸å…³çš„åŒ…ä¸»è¦ç”¨äº**æ–‡ä»¶å½’æ¡£**ï¼Œä¹Ÿå°±æ˜¯**å°†å¤šä¸ªæ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªå½’æ¡£æ–‡ä»¶**ï¼Œå¹¶ä¿ç•™æ–‡ä»¶çš„å…ƒæ•°æ®ï¼ˆæ–‡ä»¶åã€è·¯å¾„ã€ä¿®æ”¹æ—¶é—´ã€æƒé™ç­‰ï¼‰ã€‚  
å®ƒæœ¬èº«ä¸ä¸€å®šå‹ç¼©æ•°æ®ï¼Œå‹ç¼©é€šå¸¸æ˜¯å’Œ `compress` åŒ…ç»“åˆä½¿ç”¨ã€‚

### å¸¸è§å­åŒ…
- **`archive/zip`**  
  è¯»å†™ ZIP æ ¼å¼æ–‡ä»¶ï¼ˆZIP æœ¬èº«æ”¯æŒå‹ç¼©ï¼‰ã€‚
- **`archive/tar`**  
  è¯»å†™ TAR æ ¼å¼æ–‡ä»¶ï¼ˆTAR æœ¬èº«ä¸å‹ç¼©ï¼Œåªæ˜¯æ‰“åŒ…ï¼›é€šå¸¸ä¸ `compress/gzip` ç­‰ç»“åˆå®ç° `.tar.gz` æ ¼å¼ï¼‰ã€‚

### é€‚ç”¨åœºæ™¯
- **æ‰“åŒ…å¤šä¸ªæ–‡ä»¶**æˆä¸€ä¸ªæ–‡ä»¶ï¼Œæ–¹ä¾¿åˆ†å‘æˆ–å­˜å‚¨
- **è¯»å–å½’æ¡£**ä¸­çš„æ–‡ä»¶åˆ—è¡¨å’Œå†…å®¹
- **å¤‡ä»½/éƒ¨ç½²**éœ€è¦ä¿ç•™æ–‡ä»¶ç»“æ„å’Œå…ƒæ•°æ®

### ç‰¹ç‚¹
- é¢å‘**æ–‡ä»¶é›†åˆ**ï¼ˆå¤šä¸ªæ–‡ä»¶ä¸€èµ·å¤„ç†ï¼‰
- å¯ä»¥åµŒå¥—ä½¿ç”¨å‹ç¼©ï¼ˆå¦‚ tar + gzipï¼‰

---

## 1.2 **compress** ç³»åˆ—åŒ…

### ä½œç”¨
`compress` ç›¸å…³çš„åŒ…ä¸»è¦ç”¨äº**æ•°æ®å‹ç¼©å’Œè§£å‹ç¼©**ï¼Œä½œç”¨å¯¹è±¡æ˜¯**å­—èŠ‚æµ**ï¼Œè€Œä¸æ˜¯æ–‡ä»¶é›†åˆã€‚  
å®ƒå…³æ³¨çš„æ˜¯å‡å°‘æ•°æ®ä½“ç§¯ï¼Œæé«˜ä¼ è¾“æˆ–å­˜å‚¨æ•ˆç‡ã€‚

### å¸¸è§å­åŒ…
- **`compress/gzip`**ï¼šGZIP æ ¼å¼å‹ç¼©ï¼ˆå¸¸ç”¨äº HTTP å“åº”å‹ç¼©ã€`.tar.gz` æ–‡ä»¶ï¼‰
- **`compress/zlib`**ï¼šZLIB æ ¼å¼å‹ç¼©ï¼ˆDEFLATE ç®—æ³•å°è£…ï¼‰
- **`compress/bzip2`**ï¼šBZIP2 è§£å‹ï¼ˆæ ‡å‡†åº“åªæ”¯æŒè§£å‹ï¼‰
- **`compress/lzw`**ï¼šLZW ç®—æ³•å‹ç¼©/è§£å‹

### é€‚ç”¨åœºæ™¯
- å‹ç¼©ç½‘ç»œä¼ è¾“çš„æ•°æ®ï¼ˆä¾‹å¦‚ HTTP GZIP å‹ç¼©ï¼‰
- å‹ç¼©å•ä¸ªæ–‡ä»¶æˆ–å­—èŠ‚æµ
- ä¸ `archive` é…åˆï¼Œå°†æ‰“åŒ…å¥½çš„æ•°æ®æµå‹ç¼©

### ç‰¹ç‚¹
- é¢å‘**æ•°æ®æµ**ï¼ˆ`io.Reader` / `io.Writer`ï¼‰
- ä¸å…³å¿ƒæ–‡ä»¶ç»“æ„ï¼Œåªå…³å¿ƒæ•°æ®ä½“ç§¯

---

## 1.3 **æ ¸å¿ƒåŒºåˆ«**

| æ–¹é¢         | archive ç³»åˆ—                                       | compress ç³»åˆ—                       |
|--------------|----------------------------------------------------|--------------------------------------|
| ä¸»è¦ç”¨é€”     | æ–‡ä»¶å½’æ¡£ï¼ˆæ‰“åŒ…å¤šä¸ªæ–‡ä»¶åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼‰                | æ•°æ®å‹ç¼©ï¼ˆå‡å°‘æ•°æ®ä½“ç§¯ï¼‰             |
| æ“ä½œå¯¹è±¡     | æ–‡ä»¶é›†åˆï¼ˆåŒ…å«å…ƒæ•°æ®ï¼‰                              | å­—èŠ‚æµï¼ˆä¸åŒ…å«æ–‡ä»¶ç»“æ„ä¿¡æ¯ï¼‰         |
| æ˜¯å¦å‹ç¼©     | ä¸ä¸€å®šå‹ç¼©ï¼ˆTAR ä¸å‹ç¼©ï¼ŒZIP ä¼šå‹ç¼©ï¼‰                 | å‹ç¼©æˆ–è§£å‹ç¼©å­—èŠ‚æµ                   |
| å¸¸è§åœºæ™¯     | æ‰“åŒ…ç›®å½•ã€å¤‡ä»½ã€å®‰è£…åŒ…                              | HTTP å“åº”å‹ç¼©ã€å‹ç¼©å­˜æ¡£ã€èŠ‚çœç©ºé—´     |
| ç»„åˆä½¿ç”¨     | TAR + GZIP â†’ `.tar.gz`                              | å‹ç¼©å½’æ¡£æµ                           |

---

## 1.4 **ç»„åˆä½¿ç”¨ç¤ºä¾‹**

æ¯”å¦‚æˆ‘ä»¬è¦æŠŠä¸€ä¸ªç›®å½•å‹ç¼©æˆ `.tar.gz` æ–‡ä»¶ï¼š
1. ç”¨ `archive/tar` æ‰“åŒ…ç›®å½•é‡Œçš„æ–‡ä»¶ â†’ å¾—åˆ°ä¸€ä¸ª TAR æ ¼å¼çš„å­—èŠ‚æµ
2. ç”¨ `compress/gzip` å°† TAR å­—èŠ‚æµå‹ç¼© â†’ å¾—åˆ° `.tar.gz`

åå‘è§£å‹ï¼š
1. ç”¨ `compress/gzip` è§£å‹ `.tar.gz` â†’ å¾—åˆ° TAR å­—èŠ‚æµ
2. ç”¨ `archive/tar` è§£æ TAR â†’ å¾—åˆ°å„ä¸ªæ–‡ä»¶

---

âœ… **æ€»ç»“**  
- **`archive`**ï¼šè´Ÿè´£æ‰“åŒ…å¤šä¸ªæ–‡ä»¶ï¼Œä¿ç•™ç»“æ„å’Œå…ƒä¿¡æ¯ï¼ˆå…³æ³¨æ–‡ä»¶é›†åˆï¼‰ã€‚
- **`compress`**ï¼šè´Ÿè´£å‹ç¼©æ•°æ®æµï¼ˆå…³æ³¨ä½“ç§¯ä¼˜åŒ–ï¼‰ã€‚
- ä¸¤è€…å¯ä»¥ç‹¬ç«‹ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç»„åˆä½¿ç”¨ï¼Œå¸¸è§äº `.tar.gz`ã€`.zip` ç­‰åœºæ™¯ã€‚

 **Go æ ‡å‡†åº“ä¸­ `archive` ä¸ `compress` çš„åä½œå…³ç³»å›¾**ï¼Œè¿™æ ·èƒ½ç›´è§‚ç†è§£å®ƒä»¬çš„é…åˆè¿‡ç¨‹ã€‚

---

```
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚       æ–‡ä»¶é›†åˆ         â”‚
                â”‚ (å¤šä¸ªæ–‡ä»¶/ç›®å½•ç»“æ„)    â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ archive åŒ…         â”‚
                 â”‚  æ‰“åŒ…/å½’æ¡£         â”‚
                 â”‚  (tar / zip)       â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
               (å¾—åˆ°ä¸€ä¸ªå½’æ¡£æ ¼å¼çš„å­—èŠ‚æµ)
                            â”‚
                            â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ compress åŒ…        â”‚
                 â”‚  å‹ç¼©/è§£å‹         â”‚
                 â”‚  (gzip / zlib /    â”‚
                 â”‚   bzip2 / lzw)     â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
               (å¾—åˆ°å‹ç¼©åçš„å½’æ¡£æ–‡ä»¶)
                            â”‚
                            â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚  å­˜å‚¨ / ä¼ è¾“       â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### è¯´æ˜ï¼š
- **archive**  
  - è´Ÿè´£**æ‰“åŒ…æ–‡ä»¶é›†åˆ**æˆä¸€ä¸ªå½’æ¡£æµï¼ˆä¾‹å¦‚ TAR æ ¼å¼ï¼‰ã€‚
  - ä¼šä¿å­˜æ–‡ä»¶åã€æƒé™ã€ä¿®æ”¹æ—¶é—´ç­‰å…ƒæ•°æ®ã€‚
  - ZIP æ ¼å¼æœ¬èº«è‡ªå¸¦å‹ç¼©ï¼Œä½† TAR ä¸å‹ç¼©ã€‚

- **compress**  
  - è´Ÿè´£**å‹ç¼©å­—èŠ‚æµ**ï¼Œå‡å°‘ä½“ç§¯ï¼ˆä¾‹å¦‚ç”¨ GZIP å‹ç¼© TAR æµï¼‰ã€‚
  - ä¸å…³å¿ƒæ–‡ä»¶ç»“æ„ï¼Œåªå¤„ç†æµæ•°æ®ã€‚

- å¸¸è§ç»„åˆï¼š
  - `tar` + `gzip` â†’ `.tar.gz`
  - `tar` + `bzip2` â†’ `.tar.bz2`
  - `tar` + `xz`ï¼ˆGo æ ‡å‡†åº“æ²¡è‡ªå¸¦ xzï¼Œéœ€è¦ç¬¬ä¸‰æ–¹åŒ…ï¼‰
  - `.zip`ï¼ˆarchive/zip å†…éƒ¨è‡ªå¸¦å‹ç¼©ï¼‰

---

ğŸ’¡ **ä¾‹å­**ï¼šæ‰“åŒ…ç›®å½•æˆ `.tar.gz`
```go
// 1. åˆ›å»º tar.Writer æ‰“åŒ…æ–‡ä»¶é›†åˆ
// 2. å°† tar.Writer å†™å…¥ gzip.Writer å‹ç¼©
// 3. æœ€åå†™å…¥ç›®æ ‡æ–‡ä»¶
```

åè§£ `.tar.gz`ï¼š
```go
// 1. æ‰“å¼€æ–‡ä»¶å¹¶ç”¨ gzip.Reader è§£å‹
// 2. å°†è§£å‹å¾—åˆ°çš„æ•°æ®äº¤ç»™ tar.Reader è§£æå‡ºåŸå§‹æ–‡ä»¶é›†åˆ
```


---

# ç¬¬2ç«  Endian å­—èŠ‚åº

## 2.1 **ä»€ä¹ˆæ˜¯ Endianï¼ˆå­—èŠ‚åºï¼‰ï¼Ÿ**
ä½¿ç”¨ `encoding/binary` æ—¶å¿…é¡»ææ¸…æ¥š **LittleEndian** å’Œ **BigEndian** çš„åŒºåˆ«ï¼Œå¦åˆ™è¯»å†™çš„æ•°æ®ä¼šå‡ºé”™ã€‚  

å­—èŠ‚åºï¼ˆByte Orderï¼‰æŒ‡çš„æ˜¯ **å¤šå­—èŠ‚æ•°æ®åœ¨å†…å­˜æˆ–æ–‡ä»¶ä¸­å­˜å‚¨æ—¶çš„å­—èŠ‚æ’åˆ—é¡ºåº**ã€‚  
ä¾‹å¦‚ï¼šä¸€ä¸ª `uint32` ç±»å‹çš„æ•°å€¼åœ¨å†…å­˜ä¸­å  4 ä¸ªå­—èŠ‚ï¼Œå®ƒçš„é«˜ä½å­—èŠ‚å’Œä½ä½å­—èŠ‚å¯ä»¥æœ‰ä¸åŒçš„å­˜æ”¾é¡ºåºã€‚

å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª 32 ä½çš„æ•°å€¼ï¼š

```
æ•°å€¼: 0x12345678
```

è¿™ä¸ªæ•°åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼å–å†³äºå­—èŠ‚åºï¼š

---

## 2.2 **LittleEndianï¼ˆå°ç«¯åºï¼‰**

- **ä½ä½å­—èŠ‚**ï¼ˆLeast Significant Byte, LSBï¼‰æ”¾åœ¨**æœ€å‰é¢**ï¼ˆä½åœ°å€å¤„ï¼‰
- å­˜å‚¨é¡ºåºï¼š**ä½ä½ â†’ é«˜ä½**

```
å†…å­˜ï¼ˆåœ°å€ä»ä½åˆ°é«˜ï¼‰ï¼š
78 56 34 12
```

ç‰¹ç‚¹ï¼š
- åœ¨ç»å¤§å¤šæ•° PCï¼ˆx86, x86_64ï¼‰æ¶æ„ä¸Šï¼Œé»˜è®¤æ˜¯ **Little Endian**ã€‚
- æ›´å®¹æ˜“ç›´æ¥è¯»å–æœ€ä½æœ‰æ•ˆå­—èŠ‚ã€‚

---

## 2.3 **BigEndianï¼ˆå¤§ç«¯åºï¼‰**

- **é«˜ä½å­—èŠ‚**ï¼ˆMost Significant Byte, MSBï¼‰æ”¾åœ¨**æœ€å‰é¢**ï¼ˆä½åœ°å€å¤„ï¼‰
- å­˜å‚¨é¡ºåºï¼š**é«˜ä½ â†’ ä½ä½**

```
å†…å­˜ï¼ˆåœ°å€ä»ä½åˆ°é«˜ï¼‰ï¼š
12 34 56 78
```

ç‰¹ç‚¹ï¼š
- ç½‘ç»œåè®®ï¼ˆTCP/IPï¼‰é€šå¸¸ä½¿ç”¨ **Big Endian**ï¼ˆä¹Ÿç§° *ç½‘ç»œå­—èŠ‚åº*ï¼‰ã€‚
- åœ¨æŸäº›åµŒå…¥å¼è®¾å¤‡ã€è€æ—§æ¶æ„ï¼ˆå¦‚ Motorola 68kï¼‰ä¸­å¸¸ç”¨ã€‚

---

## 2.4 **å¯¹æ¯”è¡¨**
### **LittleEndianï¼ˆå°ç«¯åºï¼‰**
> ä½ä½å­—èŠ‚åœ¨ä½åœ°å€ï¼ˆå…ˆå­˜ä½ä½ï¼‰

```
å†…å­˜åœ°å€ä»ä½åˆ°é«˜ â†’
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ 0x78 â”‚ 0x56 â”‚ 0x34 â”‚ 0x12 â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
ä½ä½ â†’ é«˜ä½
```

---

### **BigEndianï¼ˆå¤§ç«¯åºï¼‰**
> é«˜ä½å­—èŠ‚åœ¨ä½åœ°å€ï¼ˆå…ˆå­˜é«˜ä½ï¼‰

```
å†…å­˜åœ°å€ä»ä½åˆ°é«˜ â†’
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ 0x12 â”‚ 0x34 â”‚ 0x56 â”‚ 0x78 â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
é«˜ä½ â†’ ä½ä½
```


## 2.5 **Go ä¸­çš„ç”¨æ³•**
Go çš„ `encoding/binary` åŒ…æä¾›äº†ä¸¤ä¸ªé¢„å®šä¹‰çš„å­—èŠ‚åºå¯¹è±¡ï¼š

```go
import (
    "encoding/binary"
    "bytes"
    "fmt"
)

func main() {
    data := new(bytes.Buffer)
    var num uint32 = 0x12345678

    // å°ç«¯åºå†™å…¥
    binary.Write(data, binary.LittleEndian, num)
    fmt.Printf("LittleEndian: % x\n", data.Bytes()) // è¾“å‡º: 78 56 34 12

    data.Reset()

    // å¤§ç«¯åºå†™å…¥
    binary.Write(data, binary.BigEndian, num)
    fmt.Printf("BigEndian:    % x\n", data.Bytes()) // è¾“å‡º: 12 34 56 78
}
```

---

## 2.6 **æ€»ç»“**
- **LittleEndian**ï¼šä½ä½åœ¨ä½åœ°å€ï¼ˆPC å¸¸ç”¨ï¼‰
- **BigEndian**ï¼šé«˜ä½åœ¨ä½åœ°å€ï¼ˆç½‘ç»œåè®®å¸¸ç”¨ï¼‰
- åœ¨è·¨å¹³å°/ç½‘ç»œé€šä¿¡æ—¶ä¸€å®šè¦æ˜ç¡®åŒæ–¹çš„å­—èŠ‚åºï¼Œå¦åˆ™ä¼šå‡ºç°æ•°æ®é”™ä¹±ã€‚

---

